#!/usr/bin/php
<?php

require_once __DIR__.'/_php/vendor/autoload.php';

// STDIN function
require_once __DIR__.'/_php/php-shell.php';

$cmd = new Commando\Command();

$cmd->option('c')
    ->aka('case')
    ->describedAs('Case[camel|pascal|lower]')
    ->must(function($ca) {
        return (!empty($ca));
    });

// --String -s
$cmd->option('s')
    ->aka('string')
    ->describedAs('String')
    ->default('Test String');

$string  = $cmd['string'];

$case = $cmd['case'];

switch ($case){
    case "camel":

        // non-alpha and non-numeric characters become spaces
        $str = preg_replace('/[^a-z0-9]+/i', ' ', $string);
        $str = trim($str);
        // uppercase the first character of each word
        $str = ucwords($str);
        $str = str_replace(" ", "", $str);
        echo lcfirst($str);
        break 1;
    case "pascal":

        echo str_replace(" ", "", ucwords(trim($string)));
        break 1;
    case "lower":

        echo str_replace(" ", "", strtolower(trim($string)));
        break 1;
    case "gitlab":

        echo str_replace(" ", "-", strtolower(trim($string)));
        break 1;
    case "db":

        echo str_replace([" ", "-"], ["_", "_"], strtolower(trim($string)));
        break 1;
}